<%# Required: - %>
<%# Optional: class, input attributes,
              locals.flashMessages.validationErrors = {groupedMsg: {[name]: [array of messages]}},
              locals.validationErrors = {groupedMsg: {[name]: [array of messages]}}
%>

<%_ 
  const validationErrors = locals.flashMessages?.validationErrors || locals.validationErrors;
  if (validationErrors) {
    const err = Object.keys(validationErrors.groupedMsg);

    if (err.includes(name)) {
      locals.class = (locals.class ? locals.class + ' ' : '') + 'validation-error';
    }
    if (err[0] === name) {
      locals.autofocus = true;
      locals.onfocus = 'this.setSelectionRange(-1,-1)'
    }
  }
  const params = ["id","class","type","name","value","maxlength","minlength","min","max","step","pattern","title","onclick","onfocus","aria-label","placeholder"];
  params.forEach(param => {
  if (locals[param] != null) {
_%>
<%= param %>="<%= locals[param] %>"
<%_ }}) _%>

<%_ 
  const paramsShort = ["required","checked","autofocus","disabled"];
  paramsShort.forEach(param => {
  if (locals[param]) { 
_%>
<%= param %>
<%_ }}) _%>